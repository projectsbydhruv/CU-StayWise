<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CU StayWise – Quick Overview</title>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin: 0;
            padding: 0;
            background: #f4f5fb;
        }

        .header {
            background: #9BDDFF;
            color: #0f172a;
            padding: 24px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            letter-spacing: 0.04em;
        }

        .nav-links a {
            margin-left: 16px;
            text-decoration: none;
            color: #0f172a;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 14px;
            border-radius: 999px;
            border: 1px solid transparent;
        }

        .nav-links a.primary {
            background: #1d4ed8;
            color: white;
        }

        .nav-links a.secondary {
            border-color: rgba(15,23,42,0.15);
        }

        .hero {
            max-width: 960px;
            margin: 32px auto;
            padding: 0 24px;
        }

        .hero-title {
            font-size: 32px;
            font-weight: 800;
            letter-spacing: -0.03em;
            color: #0f172a;
            margin-bottom: 6px;
        }

        .hero-subtitle {
            font-size: 14px;
            color: #4b5563;
        }

        .kpi-row {
            margin-top: 32px;
            display: grid;
            grid-template-columns: repeat(3,1fr);
            gap: 18px;
        }

        .kpi-card {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 6px 20px rgba(15,23,42,0.12);
        }

        .kpi-label {
            font-size: 12px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .kpi-value {
            margin-top: 6px;
            font-size: 26px;
            font-weight: 800;
        }

        .section-title {
            margin-top: 40px;
            font-size: 22px;
            font-weight: 700;
            color: #111827;
        }

        .stat-card {
            background: white;
            margin-top: 16px;
            padding: 20px;
            border-radius: 18px;
            box-shadow: 0 4px 18px rgba(15,23,42,0.10);
        }

        .stat-label {
            font-size: 14px;
            font-weight: 600;
            color: #4b5563;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: #111827;
        }
    </style>
</head>

<body>

<div class="header">
    <div class="logo">CU StayWise</div>
    <div class="nav-links">
        <a href="/home" class="secondary">Livability Score</a>
        <a href="/overview" class="primary">Quick Overview</a>
        <a href="/map" class="secondary">Interactive Map</a>
    </div>
</div>

<div class="hero">
    <div class="hero-title">Quick Overview</div>
    <div class="hero-subtitle">
        Here is a quick glimpse of Columbia's neighborhood.
    </div>

    <!-- Top 3 KPIs -->
    <div class="kpi-row">
        <div class="kpi-card">
            <div class="kpi-label">Total Complaints</div>
            <div class="kpi-value">{{ total_complaints }}</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-label">Buildings Analyzed</div>
            <div class="kpi-value">{{ total_buildings }}</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-label">ZIP Codes Covered</div>
            <div class="kpi-value">{{ total_zips }}</div>
        </div>
    </div>

    <!-- Best & Worst ZIP Codes -->
    <div class="section-title">Best &amp; Worst ZIP Codes</div>

    <div class="stat-card">
        <div class="stat-label">Best ZIP Code</div>
        {% if best_zip %}
            <div class="stat-value">
                ZIP {{ best_zip.zip }} — Score {{ best_zip.avg_score }}
            </div>
        {% else %}
            <div class="stat-value">Not enough data to compute this yet.</div>
        {% endif %}
    </div>

    <div class="stat-card">
        <div class="stat-label">Worst ZIP Code</div>
        {% if worst_zip %}
            <div class="stat-value">
                ZIP {{ worst_zip.zip }} — Score {{ worst_zip.avg_score }}
            </div>
        {% else %}
            <div class="stat-value">Not enough data to compute this yet.</div>
        {% endif %}
    </div>

    <!-- Best & Worst Streets -->
    <div class="section-title">Best &amp; Worst Streets</div>

    <div class="stat-card">
        <div class="stat-label">Best Street</div>
        {% if best_street %}
            <div class="stat-value">
                {{ best_street.street }} — Score {{ best_street.avg_score }}
            </div>
        {% else %}
            <div class="stat-value">Not enough data to compute this yet.</div>
        {% endif %}
    </div>

    <div class="stat-card">
        <div class="stat-label">Worst Street</div>
        {% if worst_street %}
            <div class="stat-value">
                {{ worst_street.street }} — Score {{ worst_street.avg_score }}
            </div>
        {% else %}
            <div class="stat-value">Not enough data to compute this yet.</div>
        {% endif %}
    </div>

    <!-- Best & Worst Buildings -->
    <div class="section-title">Best &amp; Worst Buildings</div>

    <div class="stat-card">
        <div class="stat-label">Best Building</div>
        {% if best_building %}
            <div class="stat-value">
                {{ best_building.address }} ({{ best_building.zip }}) —
                Score {{ best_building.score }} · {{ best_building.complaints }} complaints
            </div>
        {% else %}
            <div class="stat-value">Not enough data to compute this yet.</div>
        {% endif %}
    </div>

    <div class="stat-card">
        <div class="stat-label">Worst Building</div>
        {% if worst_building %}
            <div class="stat-value">
                {{ worst_building.address }} ({{ worst_building.zip }}) —
                Score {{ worst_building.score }} · {{ worst_building.complaints }} complaints
            </div>
        {% else %}
            <div class="stat-value">Not enough data to compute this yet.</div>
        {% endif %}
    </div>

</div>

</body>
</html>
